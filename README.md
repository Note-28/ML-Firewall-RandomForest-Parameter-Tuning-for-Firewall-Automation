
# ML-Firewall: RandomForest Parameter Tuning for Firewall Automation

## Project Overview

This project focuses on automating firewall management by leveraging a machine learning model, specifically a RandomForest classifier. The model is tuned to optimize the detection of potential threats in network traffic data. The automation is designed to analyze traffic patterns and classify actions as either normal or suspicious, triggering appropriate firewall responses.

The project includes the following components:
1. **Python Script** for running the firewall automation logic.
2. **Bash Script** for controlling the automation.
3. **Model Creation** using RandomForest for classifying network activity.
4. **Detailed Decision Tree Output** representing the trained RandomForest model.

## Key Components

### 1. **Python Firewall Automation Script** (`firewall_automation.py`)
This script executes the core firewall automation process. It collects data from network traffic, applies the trained RandomForest model, and makes automated decisions based on the predictions. Depending on the model's output, the script adjusts firewall rules in real-time to block or allow traffic.

### 2. **Bash Script for Automation Control** (`firewall_automation.sh`)
The bash script provides a way to manage the automation system. It includes commands to:
- Enable firewall automation
- Disable firewall automation
- Check the status of automation
- Execute firewall automation manually

This script also manages logs for tracking the execution and status of the automation system. The script checks for a flag file (`/etc/firewall_automation_enabled`) to determine whether automation should be enabled or disabled, as described in the usage section below.

#### Usage:
```bash
./firewall_automation.sh {enable|disable|status|run}
```

### 3. **Model Creation Notebook** (`Model Creation.ipynb`)
This Jupyter notebook documents the process of creating and tuning the RandomForest model. It includes steps for:
- Data preprocessing
- Model training
- Evaluating the model's performance on test data
- **Selecting the top 10 important parameters** to optimize firewall performance, ensuring the model prioritizes the most significant network features for threat detection.

### 4. **RandomForest Decision Tree Output** (`Forest_Tree_output.txt`)
This file provides a detailed representation of the decision trees generated by the RandomForest classifier. Each branch in the output corresponds to decision rules based on features such as packet size, protocol type, and data flow. These rules are used to classify network activity and make firewall decisions.

### 5. **Logging**
All operations and any issues encountered during the execution of firewall automation are logged in the `firewall_automation.log` file located in the `logs/` directory.


## Usage

1. **Enable automation:**
   ```bash
   ./firewall_automation.sh enable
   ```

2. **Run firewall automation manually:**
   ```bash
   ./firewall_automation.sh run
   ```

3. **Disable automation:**
   ```bash
   ./firewall_automation.sh disable
   ```

4. **Check the status of the automation:**
   ```bash
   ./firewall_automation.sh status
   ```

## Future Enhancements
- **Extended ML Model Options:** Explore other models like Gradient Boosting or XGBoost for enhanced accuracy.
- **Real-time Data Integration:** Incorporate live traffic data for continuous learning and model updates.
- **Advanced Threat Detection:** Integrate more sophisticated metrics for identifying zero-day attacks and advanced persistent threats (APT).

## Contributing

Feel free to open issues or submit pull requests for any improvements. Contributions are welcome!

## Author

- Manan Punatu
